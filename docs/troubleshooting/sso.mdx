---
sidebar_position: 4
title: "ğŸ” Troubleshooting OAUTH / SSO Issues"
---

OAUTH or Single Sign-On (SSO) lets you secure Open WebUI with modern authentication, but when users encounter login problems, the solution is often simpleâ€”if you know where to look. Most of the time, one of these key issues below is the culprit. Hereâ€™s how to hunt them down and fix SSO headaches fast! ğŸš¦

## Common OAUTH/SSO Issues and How to Fix Them ğŸ› ï¸

### 1. WebUI URL Not Configured in Admin Panel ğŸšªğŸ”’
Most OAUTH flows require the applicationâ€™s external URL (â€œredirect URIâ€) so the provider knows where to send users after login. If this is missing, OAUTH wonâ€™t be able to complete!

âœ… Solution:
- Navigate to: **Admin Settings > General**
- Ensure your **WebUI URL** field is filled in and points to your deployed instance (e.g., `https://yourwebui.yourdomain.com`)
ğŸ“Œ Tip: Check for typos! OAUTH is strictâ€”URLs must match exactly, including `https://`.

---

### 2. Incorrect Environment Variable Configuration ğŸ“ğŸš«
This is by far the **most common cause** of OAUTH breakage. If you misspell, omit, or set the wrong environment variable (especially for OIDC/OAUTH config), authentication canâ€™t work.

âœ… Solutions:
- Double-check your deployment environment:
  - Ensure all required environment variables are set (see docs for names like `OIDC_CONFIG`, `OAUTH_CLIENT_ID`, etc.)
  - If self-hosting, confirm these variables are present in your Docker Compose, Kubernetes manifest, or `.env` file.
- Restart your backend/app after changing variables so the new values are loaded.

ğŸ“Œ Tip: Most OAUTH errors (loops, 401s, unresponsiveness) are due to an environment variable incorrectly set or missing entirely!

---

### 3. OAUTH Misconfiguration on the Provider Side ğŸ¢ğŸ”—
Sometimes the issue is with the identity provider (e.g., Google, Okta, Auth0, Azure AD) not aligning with your WebUIâ€™s setup.

âœ… Solutions:
- Verify your application is correctly registered with the OAUTH provider. Confirm:
  - Redirect URIs exactly match your deployed WebUI address
  - Client ID and secret match the values given in your environment settings
  - Scopes and allowed grant types (e.g., `authorization_code`) are set as required by Open WebUI
- Check the providerâ€™s logsâ€”misconfigured apps will often show clear error messages there.

ğŸ“Œ Tip: When in doubt, recheck your provider registration and regenerate client secrets if needed.

---

### 4. Server-Side Caching (A Hidden Trouble Spot!) ğŸ§ŠğŸš¦
A **new and tricky problem**: If you use NGINX (or another reverse proxy) with server-side caching, OAUTH endpoints can misbehave. The result isnâ€™t always a total failureâ€”often, users experience random or â€œweirdâ€ login bugs that are almost impossible to debug.

âœ… Solutions:
- In your NGINX (or proxy) configuration:
  - Make sure to **exclude** the following endpoints from server-side caching:
    - `/api`, `/oauth`, `/callback`, `/login`, `/ws`, `/websocket`
  - Any critical login/auth endpoint must remain uncached!
- Reload the proxy config after making changes.

ğŸ“Œ Warning: Never cache OAUTH or login endpoints! Caching can â€œpoisonâ€ the session or deliver stale tokens, causing bizarre auth errors.

---

## ğŸ§ª Pro Tip: Always Check the Logs

- Look at backend logs and browser network errors. The first error usually points to the misconfiguration (redirect URI mismatch, missing/invalid variable, provider-side error, or caching).
- If unsure which side is the problem, try logging in from an incognito browser window and watch for any blocked or failed requests.

---

## Summary Checklist âœ…

| Problem | Fix |
|-------------------------------|------------------------------------------------------------|
| ğŸ”— WebUI URL missing or wrong | Set correct WebUI URL in admin panel                        |
| ğŸ“ Env var typo or missing    | Double-check and set all OAUTH/SSO env variables            |
| ğŸ¢ Provider misconfigured     | Confirm app registration, URIs & client IDs/secrets         |
| ğŸ§Š Proxy caching interfering  | Exclude OAUTH endpoints from all server-side caches         |
| Still stuck?                  | Review logs and test without caches                         |

---

By carefully configuring BOTH your OAUTH provider and your WebUI environmentâ€”and keeping critical login endpoints immune to cachingâ€”youâ€™ll eliminate nearly all SSO/OAUTH login problems. Donâ€™t let a typo or a hidden cache block your users from seamless, secure AI access! ğŸ¦¾
